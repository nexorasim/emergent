"use strict";(self.webpackChunkesim_myanmar_frontend=self.webpackChunkesim_myanmar_frontend||[]).push([[229],{5229(e,s,a){a.r(s),a.d(s,{default:()=>l});var t=a(2555),r=a(5043),i=a(8729),c=a(579);const l=()=>{const{user:e,isAuthenticated:s}=(0,i.A)(),[a,l]=(0,r.useState)([]),[d,n]=(0,r.useState)({subject:"",category:"",priority:"medium",description:""}),[o,m]=(0,r.useState)(!1),h=[{value:"low",label:"Low",color:"green"},{value:"medium",label:"Medium",color:"yellow"},{value:"high",label:"High",color:"orange"},{value:"critical",label:"Critical",color:"red"}];(0,r.useEffect)(()=>{s&&u()},[s]);const u=async()=>{try{m(!0);const e=await fetch("/api/support/tickets",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),s=await e.json();l(s.tickets||[])}catch(e){console.error("Error fetching tickets:",e)}finally{m(!1)}};return s?(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background-dark",children:(0,c.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"eSIM Myanmar Help Desk"}),(0,c.jsx)("p",{className:"text-muted",children:"Submit and track your support requests"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,c.jsxs)("div",{className:"lg:col-span-2",children:[(0,c.jsxs)("div",{className:"card mb-8",children:[(0,c.jsxs)("div",{className:"card-header",children:[(0,c.jsx)("h2",{className:"card-title",children:"Create New Ticket"}),(0,c.jsx)("p",{className:"card-subtitle",children:"Describe your issue and we'll help you resolve it"})]}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{m(!0);(await fetch("/api/support/tickets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(d)})).ok&&(n({subject:"",category:"",priority:"medium",description:""}),u())}catch(s){console.error("Error creating ticket:",s)}finally{m(!1)}},className:"space-y-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"label",children:"Subject *"}),(0,c.jsx)("input",{type:"text",className:"input",value:d.subject,onChange:e=>n((0,t.A)((0,t.A)({},d),{},{subject:e.target.value})),placeholder:"Brief description of your issue",required:!0})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"label",children:"Category *"}),(0,c.jsxs)("select",{className:"input",value:d.category,onChange:e=>n((0,t.A)((0,t.A)({},d),{},{category:e.target.value})),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select Category"}),["Technical Issues","Billing Inquiries","Account Management","Device Support","Network Issues"].map(e=>(0,c.jsx)("option",{value:e,children:e},e))]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"label",children:"Priority"}),(0,c.jsx)("select",{className:"input",value:d.priority,onChange:e=>n((0,t.A)((0,t.A)({},d),{},{priority:e.target.value})),children:h.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"label",children:"Description *"}),(0,c.jsx)("textarea",{className:"input",rows:"6",value:d.description,onChange:e=>n((0,t.A)((0,t.A)({},d),{},{description:e.target.value})),placeholder:"Please provide detailed information about your issue...",required:!0})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"Creating...":"Create Ticket"})]})]}),(0,c.jsxs)("div",{className:"card",children:[(0,c.jsxs)("div",{className:"card-header",children:[(0,c.jsx)("h2",{className:"card-title",children:"Your Tickets"}),(0,c.jsx)("p",{className:"card-subtitle",children:"Track the status of your support requests"})]}),o?(0,c.jsxs)("div",{className:"text-center py-8",children:[(0,c.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),(0,c.jsx)("p",{className:"mt-2 text-muted",children:"Loading tickets..."})]}):0===a.length?(0,c.jsx)("div",{className:"text-center py-8",children:(0,c.jsx)("p",{className:"text-muted",children:"No tickets found. Create your first support ticket above."})}):(0,c.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s,a;return(0,c.jsxs)("div",{className:"border border-white/10 rounded-lg p-4 hover:bg-white/5 transition-colors",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,c.jsx)("h3",{className:"font-semibold",children:e.subject}),(0,c.jsx)("span",{className:"badge badge-".concat((a=e.status,{new:"blue",assigned:"purple",in_progress:"yellow",pending_customer:"orange",resolved:"green",closed:"gray"}[a]||"gray")),children:e.status.replace("_"," ").toUpperCase()})]}),(0,c.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted mb-2",children:[(0,c.jsxs)("span",{children:["#",e.ticket_id]}),(0,c.jsx)("span",{children:e.category}),(0,c.jsx)("span",{className:"badge badge-".concat(null===(s=h.find(s=>s.value===e.priority))||void 0===s?void 0:s.color),children:e.priority.toUpperCase()}),(0,c.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,c.jsx)("p",{className:"text-sm text-muted line-clamp-2",children:e.description}),e.last_response&&(0,c.jsxs)("div",{className:"mt-3 p-3 bg-white/5 rounded border-l-4 border-primary",children:[(0,c.jsx)("p",{className:"text-sm font-medium",children:"Latest Response:"}),(0,c.jsx)("p",{className:"text-sm text-muted",children:e.last_response})]})]},e.ticket_id)})})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"card card-compact",children:[(0,c.jsx)("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("a",{href:"/faq",className:"block p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,c.jsx)("div",{className:"font-medium",children:"FAQ"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"Find answers to common questions"})]}),(0,c.jsxs)("a",{href:"/how-it-works",className:"block p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,c.jsx)("div",{className:"font-medium",children:"Setup Guide"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"Learn how to activate your eSIM"})]}),(0,c.jsxs)("a",{href:"/supported-devices",className:"block p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,c.jsx)("div",{className:"font-medium",children:"Device Compatibility"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"Check if your device is supported"})]})]})]}),(0,c.jsxs)("div",{className:"card card-compact",children:[(0,c.jsx)("h3",{className:"font-semibold mb-4",children:"Contact Support"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Email"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"support@esim.com.mm"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Phone"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"+95 9650000172"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Hours"}),(0,c.jsx)("div",{className:"text-sm text-muted",children:"24/7 Support Available"})]})]})]}),(0,c.jsxs)("div",{className:"card card-compact",children:[(0,c.jsx)("h3",{className:"font-semibold mb-4",children:"Response Times"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"badge badge-red",children:"Critical"}),(0,c.jsx)("span",{className:"text-sm",children:"1 hour"})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"badge badge-orange",children:"High"}),(0,c.jsx)("span",{className:"text-sm",children:"4 hours"})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"badge badge-yellow",children:"Medium"}),(0,c.jsx)("span",{className:"text-sm",children:"24 hours"})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"badge badge-green",children:"Low"}),(0,c.jsx)("span",{className:"text-sm",children:"72 hours"})]})]})]})]})]})]})}):(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background-dark",children:(0,c.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,c.jsxs)("div",{className:"max-w-md mx-auto bg-white/5 backdrop-blur-12 rounded-xl p-8 border border-white/10",children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Help Desk Login Required"}),(0,c.jsx)("p",{className:"text-center text-muted mb-6",children:"Please log in to access the help desk system."}),(0,c.jsx)("a",{href:"/login",className:"btn btn-primary btn-block",children:"Login to Continue"})]})})})}}}]);
//# sourceMappingURL=229.4e532db2.chunk.js.map