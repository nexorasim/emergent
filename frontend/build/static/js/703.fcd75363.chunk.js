"use strict";(self.webpackChunkesim_myanmar_frontend=self.webpackChunkesim_myanmar_frontend||[]).push([[703],{6703(e,s,a){a.r(s),a.d(s,{default:()=>o});var t=a(9379),l=a(5043),d=a(5685),n=a(402),i=a(9722),r=a(579);const o=function(){var e,s;const a=(0,d.zy)(),[o,c]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),[u,p]=(0,l.useState)(null),F=(null===(e=a.state)||void 0===e?void 0:e.plan)||{name:"Basic 5G Plan",price:5e3,data_gb:10,validity_days:30},[b,h]=(0,l.useState)({first_name:"",last_name:"",email:"",phone:"",address_line1:"Yangon",city:"Yangon",postal_code:"11211"}),y=e=>{h((0,t.A)((0,t.A)({},b),{},{[e.target.name]:e.target.value}))};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#1e2f3c] via-[#162838] to-[#0d1821] text-white py-20 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold mb-4",children:["Complete Your ",(0,r.jsx)("span",{className:"text-[#00FFFF]",children:"Payment"})]}),(0,r.jsx)("p",{className:"text-xl text-gray-300",children:"Secure payment powered by Transactease"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6","data-testid":"order-summary",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-[#00FFFF]",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:F.name}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"eSIM Plan Subscription"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Data"}),(0,r.jsxs)("span",{children:[F.data_gb," GB"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Validity"}),(0,r.jsxs)("span",{children:[F.validity_days," days"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"5G Network"}),(0,r.jsx)("span",{className:"text-[#00FFFF]",children:"Included"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"VoLTE"}),(0,r.jsx)("span",{className:"text-[#00FFFF]",children:"Included"})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-600 pt-4 mt-4",children:(0,r.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{className:"text-[#00FFFF]",children:[null===(s=F.price)||void 0===s?void 0:s.toLocaleString()," MMK"]})]})})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-[#00FFFF]/10 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2 text-[#00FFFF]",children:"Payment Methods"}),(0,r.jsxs)("div",{className:"text-sm text-gray-300 space-y-1",children:[(0,r.jsx)("p",{children:"- MMQR (Myanmar QR Payment)"}),(0,r.jsx)("p",{children:"- Visa / Mastercard"})]})]})]}),(0,r.jsxs)(n.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-[#00FFFF]",children:"Billing Information"}),m&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-400",children:m}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),x(null);try{const e=await i.A.post("".concat("https://esim-ui-standards.preview.emergentagent.com","/api/payment/initiate"),(0,t.A)({amount:F.price,plan_id:F.plan_id||"basic_5g",user_id:"user_"+Date.now()},b));e.data.success&&(p(e.data),setTimeout(()=>{document.getElementById("transactease-form").submit()},1e3))}catch(l){var s,a;x((null===(s=l.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"Payment initiation failed"),c(!1)}},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"first_name",children:"First Name *"}),(0,r.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:b.first_name,onChange:y,required:!0,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white","data-testid":"first-name-input"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"last_name",children:"Last Name *"}),(0,r.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:b.last_name,onChange:y,required:!0,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white","data-testid":"last-name-input"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"email",children:"Email *"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:b.email,onChange:y,required:!0,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white","data-testid":"email-input"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"phone",children:"Phone Number *"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:b.phone,onChange:y,required:!0,placeholder:"09XXXXXXXXX",className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white","data-testid":"phone-input"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"address_line1",children:"Address"}),(0,r.jsx)("input",{type:"text",id:"address_line1",name:"address_line1",value:b.address_line1,onChange:y,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white","data-testid":"address-input"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"city",children:"City"}),(0,r.jsx)("input",{type:"text",id:"city",name:"city",value:b.city,onChange:y,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"postal_code",children:"Postal Code"}),(0,r.jsx)("input",{type:"text",id:"postal_code",name:"postal_code",value:b.postal_code,onChange:y,className:"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#00FFFF] to-[#00CCCC] text-[#1e2f3c] py-4 rounded-lg font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed mt-6","data-testid":"proceed-payment-button",children:o?"Processing...":"Proceed to Payment"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Secured by Transactease Payment Gateway"})]})]})]}),u&&(0,r.jsx)("form",{id:"transactease-form",method:"POST",action:u.payment_url,style:{display:"none"},children:Object.entries(u.form_fields).map(e=>{let[s,a]=e;return(0,r.jsx)("input",{type:"hidden",name:s,value:a},s)})})]})})}}}]);
//# sourceMappingURL=703.fcd75363.chunk.js.map