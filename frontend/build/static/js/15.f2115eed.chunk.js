"use strict";(self.webpackChunkesim_myanmar_frontend=self.webpackChunkesim_myanmar_frontend||[]).push([[15],{8015:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(5043),i=a(402),r=a(9722),l=a(579);const d="https://esim-nexus.preview.emergentagent.com";const c=function(){var e,t,a,c,n,o;const[m,x]=(0,s.useState)(null),[b,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)("overview"),[g,f]=(0,s.useState)([]),[y,v]=(0,s.useState)(null),F=async e=>{const t=setInterval(async()=>{try{const a=await r.A.get("".concat(d,"/api/nexora/audit/status/").concat(e));"completed"===a.data.status?(clearInterval(t),j(e)):"failed"===a.data.status&&(clearInterval(t),h(!1))}catch(a){clearInterval(t),h(!1)}},2e3);setTimeout(()=>{clearInterval(t),b&&j(e)},3e4)},j=async e=>{try{const t=await r.A.get("".concat(d,"/api/nexora/audit/report/").concat(e));x(t.data),h(!1)}catch(t){console.error("Error fetching report:",t),h(!1)}},N=e=>({critical:"text-red-500",high:"text-orange-500",medium:"text-yellow-500",low:"text-blue-500",info:"text-gray-400"}[e]||"text-gray-400");return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#1e2f3c] via-[#162838] to-[#0d1821] text-white py-20 px-4",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,l.jsxs)("h1",{className:"text-5xl font-bold mb-4",children:[(0,l.jsx)("span",{className:"text-[#00FFFF]",children:"NexoraAI"})," Audit Dashboard"]}),(0,l.jsx)("p",{className:"text-xl text-gray-300",children:"Enterprise-Grade Platform Audit & Optimization"})]}),(0,l.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 flex justify-center gap-4",children:(0,l.jsx)("button",{onClick:async()=>{h(!0);try{const e=await r.A.post("".concat(d,"/api/nexora/audit/start"),{audit_type:"comprehensive"});e.data.audit_ids&&e.data.audit_ids.length>0&&(f(e.data.audit_ids),v(e.data.audit_ids[0]),F(e.data.audit_ids[0]))}catch(e){console.error("Error starting audit:",e)}},disabled:b,"data-testid":"start-audit-button",className:"bg-gradient-to-r from-[#00FFFF] to-[#00CCCC] text-[#1e2f3c] px-8 py-4 rounded-lg font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Audit in Progress...":"Start Comprehensive Audit"})}),b&&(0,l.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center mb-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-[#00FFFF] border-t-transparent","data-testid":"audit-loading-spinner"}),(0,l.jsx)("p",{className:"mt-4 text-gray-300",children:"Analyzing platform infrastructure, security, and performance..."})]}),m&&(0,l.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[(0,l.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:["overview","security","performance","ux","seo","compliance"].map(e=>(0,l.jsx)("button",{onClick:()=>u(e),className:"px-6 py-3 rounded-t-lg font-semibold capitalize transition-all whitespace-nowrap ".concat(p===e?"bg-[#00FFFF] text-[#1e2f3c]":"bg-[#1e2f3c]/50 text-gray-300 hover:bg-[#1e2f3c]"),"data-testid":"tab-".concat(e),children:e.replace("_"," ")},e))}),"overview"===p&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6","data-testid":"metrics-grid",children:[(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-400 mb-2",children:"Health Score"}),(0,l.jsxs)("p",{className:"text-4xl font-bold text-[#00FFFF]","data-testid":"health-score",children:[(null===(e=m.metrics)||void 0===e?void 0:e.health_score)||0,"%"]})]}),(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-orange-500/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-400 mb-2",children:"Total Findings"}),(0,l.jsx)("p",{className:"text-4xl font-bold text-orange-400","data-testid":"total-findings",children:(null===(t=m.summary)||void 0===t?void 0:t.total_findings)||0})]}),(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-red-500/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-400 mb-2",children:"Critical Issues"}),(0,l.jsx)("p",{className:"text-4xl font-bold text-red-400","data-testid":"critical-issues",children:(null===(a=m.summary)||void 0===a?void 0:a.critical)||0})]}),(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-green-500/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-400 mb-2",children:"Auto-fixable"}),(0,l.jsx)("p",{className:"text-4xl font-bold text-green-400","data-testid":"auto-fixable",children:(null===(c=m.summary)||void 0===c?void 0:c.auto_fixable)||0})]})]}),(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4 text-[#00FFFF]",children:"Findings by Severity"}),(0,l.jsx)("div",{className:"space-y-3",children:["critical","high","medium","low"].map(e=>{var t,a,s;return(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"capitalize font-semibold w-24 ".concat(N(e)),children:e}),(0,l.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-8 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(N(e)," bg-current"),style:{width:"".concat(((null===(t=m.summary)||void 0===t?void 0:t[e])||0)/((null===(a=m.summary)||void 0===a?void 0:a.total_findings)||1)*100,"%")}})}),(0,l.jsx)("span",{className:"w-12 text-right text-gray-300",children:(null===(s=m.summary)||void 0===s?void 0:s[e])||0})]},e)})})]}),(0,l.jsxs)("div",{className:"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4 text-[#00FFFF]",children:"Priority Recommendations"}),(0,l.jsx)("ul",{className:"space-y-2",children:null===(n=m.recommendations)||void 0===n?void 0:n.map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start gap-3",children:[(0,l.jsx)("span",{className:"text-[#00FFFF] mt-1",children:"\u2022"}),(0,l.jsx)("span",{className:"text-gray-300",children:e})]},t))})]})]}),"overview"!==p&&(0,l.jsx)("div",{className:"space-y-4","data-testid":"findings-list",children:null===(o=m.findings)||void 0===o?void 0:o.filter(e=>e.phase===p||"all"===p).map((e,t)=>{return(0,l.jsxs)(i.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"bg-[#1e2f3c]/50 backdrop-blur-sm border rounded-lg p-6 ".concat((a=e.severity,{critical:"bg-red-500/20 border-red-500",high:"bg-orange-500/20 border-orange-500",medium:"bg-yellow-500/20 border-yellow-500",low:"bg-blue-500/20 border-blue-500",info:"bg-gray-500/20 border-gray-500"}[a]||"bg-gray-500/20 border-gray-500")),"data-testid":"finding-".concat(e.id),children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-white mb-1",children:e.title}),(0,l.jsxs)("p",{className:"text-sm text-gray-400",children:["Phase: ",e.phase," | Severity: ",e.severity.toUpperCase()," | Effort: ",e.effort]})]}),e.auto_fixable&&(0,l.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Auto-fixable"})]}),(0,l.jsx)("p",{className:"text-gray-300 mb-4",children:e.description}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{className:"font-semibold text-[#00FFFF] mb-2",children:"Current State:"}),(0,l.jsx)("p",{className:"text-gray-300 text-sm",children:e.current_state})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{className:"font-semibold text-[#00FFFF] mb-2",children:"Recommended Fix:"}),(0,l.jsx)("p",{className:"text-gray-300 text-sm",children:e.recommended_fix})]}),e.code_fix&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{className:"font-semibold text-[#00FFFF] mb-2",children:"Code Fix:"}),(0,l.jsx)("pre",{className:"bg-black/30 p-4 rounded-lg overflow-x-auto text-sm",children:(0,l.jsx)("code",{className:"text-gray-300",children:e.code_fix})})]}),e.affected_components&&e.affected_components.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-semibold text-[#00FFFF] mb-2",children:"Affected Components:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.affected_components.map((e,t)=>(0,l.jsx)("span",{className:"px-3 py-1 bg-[#00FFFF]/10 text-[#00FFFF] rounded-full text-sm",children:e},t))})]})]},e.id);var a})})]}),!m&&!b&&(0,l.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,l.jsx)("h3",{className:"text-2xl font-bold mb-2 text-gray-300",children:"No Audit Data"}),(0,l.jsx)("p",{className:"text-gray-400",children:"Click the button above to start a comprehensive audit"})]})]})})}}}]);
//# sourceMappingURL=15.f2115eed.chunk.js.map