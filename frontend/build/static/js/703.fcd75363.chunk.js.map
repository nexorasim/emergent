{"version":3,"file":"static/js/703.fcd75363.chunk.js","mappings":"sNA2SA,QApSA,WAAwB,IAADA,EAAAC,EACrB,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAAaC,IAAkBJ,EAAAA,EAAAA,UAAS,MAEzCK,GAAqB,QAAdX,EAAAE,EAASU,aAAK,IAAAZ,OAAA,EAAdA,EAAgBW,OAAQ,CACnCE,KAAM,gBACNC,MAAO,IACPC,QAAS,GACTC,cAAe,KAGVC,EAAUC,IAAeZ,EAAAA,EAAAA,UAAS,CACvCa,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,MAAO,GACPC,cAAe,SACfC,KAAM,SACNC,YAAa,UAGTC,EAAgBC,IACpBT,GAAWU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACRX,GAAQ,IACX,CAACU,EAAEE,OAAOhB,MAAOc,EAAEE,OAAOC,UA+B9B,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iGAAgGC,UAC7GC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAEhCC,EAAAA,EAAAA,MAACC,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,EAAGC,GAAI,IAC3BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BP,UAAU,oBAAmBC,SAAA,EAE7BC,EAAAA,EAAAA,MAAA,MAAIF,UAAU,0BAAyBC,SAAA,CAAC,kBACxBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,gBAEjDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAC,+CAGvCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EAExCC,EAAAA,EAAAA,MAACC,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,EAAGG,GAAI,IAC3BD,QAAS,CAAEF,QAAS,EAAGG,EAAG,GAC1BC,WAAY,CAAEC,MAAO,IACrBX,UAAU,6EACV,cAAY,gBAAeC,SAAA,EAE3BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,mBAEvDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAEtB,EAAKE,QAC5CkB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAC,+BAGvCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,UAChCC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOtB,EAAKI,QAAQ,aAEtBmB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,cAChCC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOtB,EAAKK,cAAc,eAE5BkB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,gBAChCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,iBAEnCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,WAChCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,oBAIrCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCC,UACjDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,WACNC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,iBAAgBC,SAAA,CAAY,QAAZhC,EAAEU,EAAKG,aAAK,IAAAb,OAAA,EAAVA,EAAY2C,iBAAiB,mBAKrEV,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sCAAqCC,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oCAAmCC,SAAC,qBAClDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iCACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kCAMTC,EAAAA,EAAAA,MAACC,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,EAAGG,EAAG,IAC1BD,QAAS,CAAEF,QAAS,EAAGG,EAAG,GAC1BC,WAAY,CAAEC,MAAO,IACrBX,UAAU,6EAA4EC,SAAA,EAEtFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,wBAEtD1B,IACCwB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uEAAsEC,SAClF1B,KAIL2B,EAAAA,EAAAA,MAAA,QAAMW,SA9GKC,UACnBnB,EAAEoB,iBACF1C,GAAW,GACXG,EAAS,MAET,IAEE,MAAMwC,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAvCvBC,sDAuCkC,0BAAAxB,EAAAA,EAAAA,GAAA,CAC1CyB,OAAQ1C,EAAKG,MACbwC,QAAS3C,EAAK2C,SAAW,WACzBC,QAAS,QAAUC,KAAKC,OACrBxC,IAGD+B,EAASU,KAAKC,UAChBjD,EAAesC,EAASU,MAExBE,WAAW,KACTC,SAASC,eAAe,qBAAqBC,UAC5C,KAEP,CAAE,MAAOC,GAAM,IAADC,EAAAC,EACZ1D,GAAqB,QAAZyD,EAAAD,EAAIhB,gBAAQ,IAAAiB,GAAM,QAANC,EAAZD,EAAcP,YAAI,IAAAQ,OAAN,EAAZA,EAAoBC,SAAU,6BACvC9D,GAAW,EACb,GAsFsC2B,UAAU,YAAWC,SAAA,EACjDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,aAAYnC,SAAC,kBAGvEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,OACLC,GAAG,aACHzD,KAAK,aACLiB,MAAOb,EAASE,WAChBoD,SAAU7C,EACV8C,UAAQ,EACRxC,UAAU,2HACV,cAAY,yBAIhBE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,YAAWnC,SAAC,iBAGtEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,OACLC,GAAG,YACHzD,KAAK,YACLiB,MAAOb,EAASG,UAChBmD,SAAU7C,EACV8C,UAAQ,EACRxC,UAAU,2HACV,cAAY,2BAKlBE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,QAAOnC,SAAC,aAGlEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,QACLC,GAAG,QACHzD,KAAK,QACLiB,MAAOb,EAASI,MAChBkD,SAAU7C,EACV8C,UAAQ,EACRxC,UAAU,2HACV,cAAY,oBAIhBE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,QAAOnC,SAAC,oBAGlEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,MACLC,GAAG,QACHzD,KAAK,QACLiB,MAAOb,EAASK,MAChBiD,SAAU7C,EACV8C,UAAQ,EACRC,YAAY,cACZzC,UAAU,2HACV,cAAY,oBAIhBE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,gBAAenC,SAAC,aAG1EF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,OACLC,GAAG,gBACHzD,KAAK,gBACLiB,MAAOb,EAASM,cAChBgD,SAAU7C,EACVM,UAAU,2HACV,cAAY,sBAIhBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,OAAMnC,SAAC,UAGjEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,OACLC,GAAG,OACHzD,KAAK,OACLiB,MAAOb,EAASO,KAChB+C,SAAU7C,EACVM,UAAU,iIAIdE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAiCoC,QAAQ,cAAanC,SAAC,iBAGxEF,EAAAA,EAAAA,KAAA,SACEsC,KAAK,OACLC,GAAG,cACHzD,KAAK,cACLiB,MAAOb,EAASQ,YAChB8C,SAAU7C,EACVM,UAAU,oIAKhBD,EAAAA,EAAAA,KAAA,UACEsC,KAAK,SACLK,SAAUtE,EACV4B,UAAU,wLACV,cAAY,yBAAwBC,SAEnC7B,EAAU,gBAAkB,wBAG/B2B,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yCAAwCC,SAAC,qDAQ3DxB,IACCsB,EAAAA,EAAAA,KAAA,QACEuC,GAAG,oBACHK,OAAO,OACPC,OAAQnE,EAAYoE,YACpBC,MAAO,CAAEC,QAAS,QAAS9C,SAE1B+C,OAAOC,QAAQxE,EAAYyE,aAAaC,IAAIC,IAAA,IAAEC,EAAKvD,GAAMsD,EAAA,OACxDrD,EAAAA,EAAAA,KAAA,SAEEsC,KAAK,SACLxD,KAAMwE,EACNvD,MAAOA,GAHFuD,WAWrB,C","sources":["pages/payment/PaymentPage.js"],"sourcesContent":["import { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001';\n\nfunction PaymentPage() {\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [paymentData, setPaymentData] = useState(null);\n\n  const plan = location.state?.plan || {\n    name: 'Basic 5G Plan',\n    price: 5000,\n    data_gb: 10,\n    validity_days: 30\n  };\n\n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone: '',\n    address_line1: 'Yangon',\n    city: 'Yangon',\n    postal_code: '11211'\n  });\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Initiate payment with Transactease\n      const response = await axios.post(`${API_URL}/api/payment/initiate`, {\n        amount: plan.price,\n        plan_id: plan.plan_id || 'basic_5g',\n        user_id: 'user_' + Date.now(),\n        ...formData\n      });\n\n      if (response.data.success) {\n        setPaymentData(response.data);\n        // Auto-submit form to Transactease\n        setTimeout(() => {\n          document.getElementById('transactease-form').submit();\n        }, 1000);\n      }\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Payment initiation failed');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#1e2f3c] via-[#162838] to-[#0d1821] text-white py-20 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center mb-12\"\n        >\n          <h1 className=\"text-4xl font-bold mb-4\">\n            Complete Your <span className=\"text-[#00FFFF]\">Payment</span>\n          </h1>\n          <p className=\"text-xl text-gray-300\">Secure payment powered by Transactease</p>\n        </motion.div>\n\n        <div className=\"grid md:grid-cols-2 gap-8\">\n          {/* Order Summary */}\n          <motion.div\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.1 }}\n            className=\"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6\"\n            data-testid=\"order-summary\"\n          >\n            <h2 className=\"text-2xl font-bold mb-6 text-[#00FFFF]\">Order Summary</h2>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <h3 className=\"text-lg font-semibold\">{plan.name}</h3>\n                <p className=\"text-gray-400 text-sm\">eSIM Plan Subscription</p>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Data</span>\n                  <span>{plan.data_gb} GB</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Validity</span>\n                  <span>{plan.validity_days} days</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">5G Network</span>\n                  <span className=\"text-[#00FFFF]\">Included</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">VoLTE</span>\n                  <span className=\"text-[#00FFFF]\">Included</span>\n                </div>\n              </div>\n\n              <div className=\"border-t border-gray-600 pt-4 mt-4\">\n                <div className=\"flex justify-between text-xl font-bold\">\n                  <span>Total</span>\n                  <span className=\"text-[#00FFFF]\">{plan.price?.toLocaleString()} MMK</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-6 p-4 bg-[#00FFFF]/10 rounded-lg\">\n              <h4 className=\"font-semibold mb-2 text-[#00FFFF]\">Payment Methods</h4>\n              <div className=\"text-sm text-gray-300 space-y-1\">\n                <p>- MMQR (Myanmar QR Payment)</p>\n                <p>- Visa / Mastercard</p>\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Payment Form */}\n          <motion.div\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"bg-[#1e2f3c]/50 backdrop-blur-sm border border-[#00FFFF]/30 rounded-lg p-6\"\n          >\n            <h2 className=\"text-2xl font-bold mb-6 text-[#00FFFF]\">Billing Information</h2>\n\n            {error && (\n              <div className=\"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-400\">\n                {error}\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\" htmlFor=\"first_name\">\n                    First Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"first_name\"\n                    name=\"first_name\"\n                    value={formData.first_name}\n                    onChange={handleChange}\n                    required\n                    className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                    data-testid=\"first-name-input\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\" htmlFor=\"last_name\">\n                    Last Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"last_name\"\n                    name=\"last_name\"\n                    value={formData.last_name}\n                    onChange={handleChange}\n                    required\n                    className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                    data-testid=\"last-name-input\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" htmlFor=\"email\">\n                  Email *\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  required\n                  className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                  data-testid=\"email-input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" htmlFor=\"phone\">\n                  Phone Number *\n                </label>\n                <input\n                  type=\"tel\"\n                  id=\"phone\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleChange}\n                  required\n                  placeholder=\"09XXXXXXXXX\"\n                  className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                  data-testid=\"phone-input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" htmlFor=\"address_line1\">\n                  Address\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"address_line1\"\n                  name=\"address_line1\"\n                  value={formData.address_line1}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                  data-testid=\"address-input\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\" htmlFor=\"city\">\n                    City\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"city\"\n                    name=\"city\"\n                    value={formData.city}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\" htmlFor=\"postal_code\">\n                    Postal Code\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"postal_code\"\n                    name=\"postal_code\"\n                    value={formData.postal_code}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-3 bg-[#0d1821] border border-[#00FFFF]/30 rounded-lg focus:outline-none focus:border-[#00FFFF] text-white\"\n                  />\n                </div>\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-[#00FFFF] to-[#00CCCC] text-[#1e2f3c] py-4 rounded-lg font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed mt-6\"\n                data-testid=\"proceed-payment-button\"\n              >\n                {loading ? 'Processing...' : 'Proceed to Payment'}\n              </button>\n\n              <p className=\"text-xs text-gray-400 text-center mt-4\">\n                Secured by Transactease Payment Gateway\n              </p>\n            </form>\n          </motion.div>\n        </div>\n\n        {/* Hidden Transactease Form */}\n        {paymentData && (\n          <form\n            id=\"transactease-form\"\n            method=\"POST\"\n            action={paymentData.payment_url}\n            style={{ display: 'none' }}\n          >\n            {Object.entries(paymentData.form_fields).map(([key, value]) => (\n              <input\n                key={key}\n                type=\"hidden\"\n                name={key}\n                value={value}\n              />\n            ))}\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentPage;\n"],"names":["_location$state","_plan$price","location","useLocation","loading","setLoading","useState","error","setError","paymentData","setPaymentData","plan","state","name","price","data_gb","validity_days","formData","setFormData","first_name","last_name","email","phone","address_line1","city","postal_code","handleChange","e","_objectSpread","target","value","_jsx","className","children","_jsxs","motion","div","initial","opacity","y","animate","x","transition","delay","toLocaleString","onSubmit","async","preventDefault","response","axios","post","concat","process","amount","plan_id","user_id","Date","now","data","success","setTimeout","document","getElementById","submit","err","_err$response","_err$response$data","detail","htmlFor","type","id","onChange","required","placeholder","disabled","method","action","payment_url","style","display","Object","entries","form_fields","map","_ref","key"],"ignoreList":[],"sourceRoot":""}